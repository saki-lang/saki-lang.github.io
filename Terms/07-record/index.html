
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../06-pair/">
      
      
        <link rel="next" href="../08-adt/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Record - Saki-Lang</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#record" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Saki-Lang" class="md-header__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Saki-Lang
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Record
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Saki-Lang" class="md-nav__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    Saki-Lang
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keywords and Identifiers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-mltt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martin-Löf Type Theory
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-proofs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Construct Formal Proofs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-overloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ad-Hoc Polymorphism (Overloading)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-subtyping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtyping and Algebraic Subtyping
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Definition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Definition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Definition/01-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Terms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function (Lambda)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-dependent-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependent Pi (Function) Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-expr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-sum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sum Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-pair/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Type (Pair) and Dependent Sigma Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Record
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-a-record-term" class="md-nav__link">
    <span class="md-ellipsis">
      Typing a Record Term
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typing-field-access" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Field Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Record Subtyping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-record-declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Record Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-records-and-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Records and Higher-Level Universes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-assignments-for-record-values" class="md-nav__link">
    <span class="md-ellipsis">
      Field Assignments for Record Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-record-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Using Record Subtyping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#higher-level-universes-in-record-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Higher-Level Universes in Record Fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Higher-Level Universes in Record Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples-of-higher-level-universes-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of Higher-Level Universes in Records
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of Higher-Level Universes in Records">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contract-universes-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Contract Universes in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependent-types-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Dependent Types in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-records-with-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Records with Higher-Level Universes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstract-operations-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Abstract Operations in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-example-a-physics-model-with-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example: A Physics Model with Higher-Level Universes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-adt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algebraic Datatype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-inductive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inductive Type with Indices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-constraint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constraint Universe
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-a-record-term" class="md-nav__link">
    <span class="md-ellipsis">
      Typing a Record Term
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typing-field-access" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Field Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#record-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Record Subtyping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-record-declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Record Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-records-and-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Records and Higher-Level Universes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-assignments-for-record-values" class="md-nav__link">
    <span class="md-ellipsis">
      Field Assignments for Record Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-record-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Using Record Subtyping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#higher-level-universes-in-record-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Higher-Level Universes in Record Fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Higher-Level Universes in Record Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples-of-higher-level-universes-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of Higher-Level Universes in Records
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of Higher-Level Universes in Records">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contract-universes-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Contract Universes in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependent-types-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Dependent Types in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recursive-records-with-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Recursive Records with Higher-Level Universes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstract-operations-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Abstract Operations in Records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-example-a-physics-model-with-higher-level-universes" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example: A Physics Model with Higher-Level Universes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="record">Record</h1>
<script type="module" src="/javascripts/editor.js"></script>
<p><link rel="stylesheet" href="/static/styles.css"></p>
<p>Record terms in <strong>Saki</strong> represent structured data types that aggregate multiple named fields, each of which is associated with a specific type. They are similar to records or structs in other programming languages, providing a way to group related data under one composite type. The flexibility of records, along with the ability to organize fields with shared types concisely, makes them useful for modeling a wide variety of data structures.</p>
<h2 id="syntax">Syntax</h2>
<p>The syntax for defining a record type in Saki is as follows:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>FieldBinding ::= Ident+ &#39;:&#39; Term
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>RecordTerm   ::= &#39;record&#39; &#39;{&#39; FieldBinding ((NL+|&#39;,&#39;) FieldBinding)* &#39;}&#39;
</span></code></pre></div>
<ul>
<li>
<p><strong>FieldBinding:</strong> The field declaration in a record, consisting of one or more field names (<code>Ident+</code>) followed by a colon (<code>:</code>) and the type (<code>Term</code>). The <code>Ident+</code> syntax indicates that multiple fields can share the same type, simplifying the declaration of records with fields of identical types.</p>
</li>
<li>
<p><strong>RecordTerm:</strong> The entire record type definition. The <code>record</code> keyword introduces the record, followed by a block <code>{}</code> containing one or more field declarations (<code>FieldBinding</code>). Field declarations can be separated by either newlines (<code>NL</code>) or commas.</p>
</li>
</ul>
<h2 id="typing-rules">Typing Rules</h2>
<p>The formal typing rules for records in Saki specify how to type both the record term and the field access. The rules ensure that the types of fields are consistent with the declared record structure.</p>
<h3 id="typing-a-record-term">Typing a Record Term</h3>
<p>The typing rule for constructing a record is given as:</p>
<div class="arithmatex">\[
\frac{\Gamma \vdash \overline{t_i : T_i}^i}{\Gamma \vdash \{ \overline{l_i = t_i}^i \} : \{ \overline{l_i : T_i}^i \}}
\]</div>
<p>This rule means that if each field <code>t_i</code> has type <code>T_i</code> in the typing context <span class="arithmatex">\(\Gamma\)</span>, then the record <code>{ l_i = t_i }</code> is of type <code>{ l_i : T_i }</code>. In other words, if all fields are well-typed according to their declarations, the entire record is well-typed.</p>
<h3 id="typing-field-access">Typing Field Access</h3>
<p>The rule for accessing a field from a record is as follows:</p>
<div class="arithmatex">\[
\frac{\Gamma \vdash t: \{ \overline{l_i : T_i}^i \}}{\Gamma \vdash t.f_i : T_i}
\]</div>
<p>This rule means that if a term <code>t</code> is a record with a field <code>f_i</code> of type <code>T_i</code>, then accessing the field <code>t.f_i</code> results in a value of type <code>T_i</code>. The field access operation is type-safe because it guarantees that the type of the field matches its declaration in the record.</p>
<h3 id="record-subtyping">Record Subtyping</h3>
<p>Saki supports <strong>structural subtyping</strong> for records, meaning that a record with more fields can be a subtype of a record with fewer fields if the shared fields have matching types. This is formalized as:</p>
<div class="arithmatex">\[
\forall S \,.\, \forall (S' \subseteq S) \,.\, \{\overline{l_i : T_i}^{i \in S}\} &lt;: \{\overline{l_i : T_i}^{i \in S'}\}
\]</div>
<p>This rule states that a record type with fields indexed by <code>S</code> is a subtype of a record type with fields indexed by <code>S'</code> if <code>S'</code> is a subset of <code>S</code>. This allows for flexibility when passing records to functions that only need to access a subset of the fields.</p>
<h2 id="examples">Examples</h2>
<h3 id="basic-record-declaration">Basic Record Declaration</h3>
<p>A simple record with fields <code>name</code> and <code>age</code>:</p>
<div class="code-editor" id="code-record-simple">

<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>record {
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    name: String
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    age: ℤ
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>}
</span></code></pre></div>
</div>

<!-- <div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-record-simple', 'result-record-simple', true)">Run Example</button>
</div>

<div class="result-editor" id="result-record-simple"></div> -->

<p>This defines a record with two fields:</p>
<ul>
<li><code>name</code> of type <code>String</code></li>
<li><code>age</code> of type <code>ℤ</code> (Integer)</li>
</ul>
<p>A record type like this can be used to represent an entity, such as a person, where each field holds specific data relevant to that entity.</p>
<h3 id="nested-records-and-higher-level-universes">Nested Records and Higher-Level Universes</h3>
<div class="code-editor" id="code-record-nested">

<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>record {  
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    name: String
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    birthDate: record {
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        day month year: ℤ
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    }
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>}
</span></code></pre></div>
</div>

<!-- <div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-record-nested', 'result-record-nested', true)">Run Example</button>
</div>

<div class="result-editor" id="result-record-nested"></div> -->

<p>Here, the <code>birthDate</code> field is a nested record with fields for <code>day</code>, <code>month</code>, and <code>year</code>, all of type <code>ℕ</code>. </p>
<h3 id="field-assignments-for-record-values">Field Assignments for Record Values</h3>
<p>Record terms not only define types but also support <strong>value instantiation</strong>. A record value can be created using field assignments. The syntax for record values is:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>FieldAssignment   ::= Ident (‘:’ Term)? ‘=’ Term
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>RecordValueTerm   ::= (Term | &#39;record&#39;) ‘^’ ‘{’ (FieldAssignment ((NL+|‘,’) FieldAssignment)*)? ‘}’
</span></code></pre></div>
<ul>
<li><strong>FieldAssignment:</strong> A field value assignment uses the <code>Ident = Term</code> syntax, where <code>Ident</code> is the field name and <code>Term</code> is the value assigned to that field.</li>
<li><strong>RecordValueTerm:</strong> The value instantiation uses the <code>Term ^ { ... }</code> syntax, where <code>Term</code> refers to the record type, and the braces <code>{}</code> enclose field assignments. In addition, anonymous record values are represented by <code>record ^ { ... }</code> syntax.</li>
</ul>
<p>Consider the following example of creating a <code>Point</code> record:</p>
<div class="code-editor" id="code-record-point">

<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>type Point = record {
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    x y z: ℝ
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>}
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>eval Point &#39;{
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    x = 1.0
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    y = 2.0
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    z = 3.0
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>}
</span></code></pre></div>
</div>

<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-record-point', 'result-record-point')">Run Example</button>
</div>

<div class="result-editor" id="result-record-point"></div>

<p>This code defines a record type <code>Point</code> with three fields (<code>x</code>, <code>y</code>, <code>z</code>) of type <code>ℝ</code> (real numbers). The value <code>point</code> is an instance of the <code>Point</code> record, where the fields are assigned values: <code>x = 1.0</code>, <code>y = 2.0</code>, and <code>z = 3.0</code>.</p>
<h3 id="using-record-subtyping">Using Record Subtyping</h3>
<p>Suppose you have a function that operates on a subset of the fields in a record. Using Saki’s structural subtyping, you can pass records with extra fields to functions that only expect a subset. For example:</p>
<div class="code-editor" id="code-record-subset">

<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>type Person = record {
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    name: String
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    age: ℤ
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>}
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>def getName(obj: record { name: String }): String = obj.name
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>eval {
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    let person = Person &#39;{
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        name = &quot;Sakiko Togawa&quot;
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>        age = 15
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    }
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    getName(person)
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>}
</span></code></pre></div>
</div>

<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-record-subset', 'result-record-subset')">Run Example</button>
</div>

<div class="result-editor" id="result-record-subset"></div>

<p>Here, the <code>printName</code> function expects a record with only a <code>name</code> field. However, <code>person</code> is a record with both <code>name</code> and <code>age</code>. Thanks to structural subtyping, <code>person</code> can still be passed to <code>printName</code>, as the <code>name</code> field exists and has the correct type.</p>
<h2 id="higher-level-universes-in-record-fields">Higher-Level Universes in Record Fields</h2>
<p>Saki’s type system is based on <strong>Martin-Löf Type Theory (MLTT)</strong>, which supports <strong>universes</strong> — hierarchical levels of types, where types themselves can belong to higher universes. This feature allows for <strong>contracts</strong>, <strong>dependent types</strong>, and <strong>abstract types</strong> to be embedded in records. Fields in records can be drawn from higher-level universes, allowing complex interactions between fields while preserving type safety. </p>
<h3 id="examples-of-higher-level-universes-in-records">Examples of Higher-Level Universes in Records</h3>
<h4 id="contract-universes-in-records">Contract Universes in Records</h4>
<p>Suppose we define a contract universe for printable objects, where any object that conforms to the <code>Printable</code> contract must implement a <code>print</code> method that returns a <code>String</code>. We can store such contract-bound objects in a record:</p>
<div class="language-scala highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">universe</span><span class="w"> </span><span class="ss">&#39;Printable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contract</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="n">require</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">self</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">}</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="n">docType</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Printable</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="n">content</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>docType</code> is a field that must conform to the <code>'Printable</code> contract, ensuring that any object assigned to this field implements the <code>print</code> method. </li>
<li><code>content</code> is a simple string field.</li>
</ul>
<h4 id="dependent-types-in-records">Dependent Types in Records</h4>
<p>Records can contain fields whose types depend on the values of other fields. For instance, consider a record that stores a vector and its size, where the size field determines the length of the vector:</p>
<div class="language-scala highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="nc">ℕ</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="n">elements</span><span class="p">:</span><span class="w"> </span><span class="nc">Vector</span><span class="p">(</span><span class="nc">ℝ</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>size</code> is a natural number representing the length of the vector.</li>
<li><code>elements</code> is a vector of real numbers, where the size of the vector is determined by the <code>size</code> field.</li>
</ul>
<h4 id="recursive-records-with-higher-level-universes">Recursive Records with Higher-Level Universes</h4>
<p>Higher-level universes enable recursive data structures. Consider a record that models a tree with operations defined at the universe level:</p>
<div class="language-scala highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">universe</span><span class="w"> </span><span class="ss">&#39;Tree</span><span class="p">(</span><span class="nc">A</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Type</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contract</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="n">require</span><span class="w"> </span><span class="n">insert</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="nc">A</span><span class="p">):</span><span class="w"> </span><span class="ss">&#39;Tree</span><span class="p">(</span><span class="nc">A</span><span class="p">)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="n">require</span><span class="w"> </span><span class="n">find</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="nc">A</span><span class="p">):</span><span class="w"> </span><span class="nc">Option</span><span class="p">(</span><span class="nc">A</span><span class="p">)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">}</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="n">elementType</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Type</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="n">structure</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Tree</span><span class="p">(</span><span class="n">elementType</span><span class="p">)</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>elementType</code> is a type from the universe <code>'Type</code>, which allows for any valid type in the Saki type system.</li>
<li><code>structure</code> is a tree that supports <code>insert</code> and <code>find</code> operations, constrained by the contract <code>'Tree(elementType)</code>.</li>
</ul>
<h4 id="abstract-operations-in-records">Abstract Operations in Records</h4>
<p>Higher-level universes allow fields in records to refer to abstract types and operations. For example, a record might represent a mathematical object with an associated operation:</p>
<div class="language-scala highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">universe</span><span class="w"> </span><span class="ss">&#39;Operation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contract</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="n">require</span><span class="w"> </span><span class="n">apply</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">A</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">A</span><span class="p">):</span><span class="w"> </span><span class="nc">A</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">}</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="n">operandType</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Type</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="n">operation</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Operation</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><code>operandType</code> is a field from the universe <code>'Type</code>, representing any valid type.</li>
<li><code>operation</code> is a contract universe that ensures the field adheres to the <code>'Operation</code> contract, defining an <code>apply</code> method for performing operations on values of <code>operandType</code>.</li>
</ul>
<h4 id="complex-example-a-physics-model-with-higher-level-universes">Complex Example: A Physics Model with Higher-Level Universes</h4>
<p>Consider a model of a physical object, where the <code>material</code> and <code>physical</code> fields are abstract and enforced by higher-level universes:</p>
<div class="language-scala highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">universe</span><span class="w"> </span><span class="ss">&#39;PhysicalObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contract</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="n">require</span><span class="w"> </span><span class="n">volume</span><span class="p">(</span><span class="n">self</span><span class="p">):</span><span class="w"> </span><span class="nc">ℝ</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="p">}</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="n">material</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;Type</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="n">dimensions</span><span class="p">:</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="n">length</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="nc">ℝ</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="n">physical</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;PhysicalObject</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="p">}</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "navigation.expand"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/editor.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>