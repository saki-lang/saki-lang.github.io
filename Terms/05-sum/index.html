
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../04-expr/">
      
      
        <link rel="next" href="../06-pair/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Sum Type - Saki-Lang</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sum-type" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Saki-Lang" class="md-header__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Saki-Lang
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sum Type
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Saki-Lang" class="md-nav__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    Saki-Lang
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keywords and Identifiers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-mltt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martin-Löf Type Theory
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-proofs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Construct Formal Proofs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-overloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ad-Hoc Polymorphism (Overloading)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-subtyping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtyping and Algebraic Subtyping
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Definition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Definition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Definition/01-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Terms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function (Lambda)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-dependent-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependent Pi (Function) Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-expr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sum Type
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sum Type
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typing-rules-for-sum-types" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules for Sum Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules for Sum Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subtyping-rule-for-sum-types-covariant" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping Rule for Sum Types (Covariant)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping-rule-for-sum-types-contravariant" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping Rule for Sum Types (Contravariant)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intuition-behind-the-typing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Intuition Behind the Typing Rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-sum-types" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of Sum Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of Sum Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-sum-type" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Sum Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-type-with-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Type with Subtyping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covariance-in-function-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Covariance in Function Return Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-types-in-pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Types in Pattern Matching
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-pair/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Type (Pair) and Dependent Sigma Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-adt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algebraic Datatype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-inductive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inductive Type with Indices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-constraint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constraint Universe
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typing-rules-for-sum-types" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules for Sum Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules for Sum Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subtyping-rule-for-sum-types-covariant" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping Rule for Sum Types (Covariant)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping-rule-for-sum-types-contravariant" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping Rule for Sum Types (Contravariant)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intuition-behind-the-typing-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Intuition Behind the Typing Rules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-sum-types" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of Sum Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of Sum Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-sum-type" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Sum Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-type-with-subtyping" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Type with Subtyping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covariance-in-function-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Covariance in Function Return Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-types-in-pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Sum Types in Pattern Matching
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="sum-type">Sum Type</h1>
<script type="module" src="/javascripts/editor.js"></script>
<p><link rel="stylesheet" href="/static/styles.css"></p>
<p>Sum types (also known as disjoint union types or variant types) are one of the key constructs in type theory for expressing a choice between different types. A sum type allows a value to be one of several distinct types. </p>
<h2 id="syntax">Syntax</h2>
<p>In <strong>Saki</strong>, sum types are written using the vertical bar (<code>|</code>) symbol to denote a disjoint union between two or more types:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>SumTypeTerm     ::= Term ‘|’ Term
</span></code></pre></div>
<p>This means that a value of type <span class="arithmatex">\((A \mid B)\)</span> can be either a value of type <span class="arithmatex">\(A\)</span> or a value of type <span class="arithmatex">\(B\)</span>. The sum type is closed and disjoint, meaning the value must belong to one of the specified types and not both simultaneously. This is distinct from intersection types where values must belong to all specified types.</p>
<h2 id="typing-rules-for-sum-types">Typing Rules for Sum Types</h2>
<p>In formal terms, the behavior of sum types is governed by subtyping relationships. The typing rules for sum types ensure that they can participate in subtyping relationships in a way that preserves soundness and flexibility.</p>
<h3 id="subtyping-rule-for-sum-types-covariant">Subtyping Rule for Sum Types (Covariant)</h3>
<p>The following rule describes subtyping for sum types in the covariant case:</p>
<div class="arithmatex">\[
\frac{
\forall i \,.\, \exists j \,.\, (\Gamma \vdash A_i &lt;: B_j)
}{
\Gamma \vdash \bigsqcup_i A_i &lt;: \bigsqcup_j B_j
}
\]</div>
<p>This rule asserts that if for every component type <span class="arithmatex">\(A_i\)</span> in the sum type <span class="arithmatex">\(\bigsqcup_i A_i\)</span>, there exists a corresponding type <span class="arithmatex">\(B_j\)</span> in the sum type <span class="arithmatex">\(\bigsqcup_j B_j\)</span>, and <span class="arithmatex">\(A_i\)</span> is a subtype of <span class="arithmatex">\(B_j\)</span>, then the sum of all <span class="arithmatex">\(A_i\)</span> is a subtype of the sum of all <span class="arithmatex">\(B_j\)</span>. This reflects the <strong>covariance</strong> of sum types, meaning that they preserve subtyping relationships when their component types are related by subtyping.</p>
<h3 id="subtyping-rule-for-sum-types-contravariant">Subtyping Rule for Sum Types (Contravariant)</h3>
<p>There is also a corresponding rule for contravariant subtyping of sum types, where the direction of the subtyping relationship is reversed:</p>
<div class="arithmatex">\[
\frac{
\Gamma \vdash \forall i \,.\, \exists j \,.\, (A_i &gt;: B_j)
}{
\Gamma \vdash \bigsqcup_i A_i &gt;: \bigsqcup_j B_j
}
\]</div>
<p>This means that if for every component type <span class="arithmatex">\(A_i\)</span> in the sum type <span class="arithmatex">\(\bigsqcup_i A_i\)</span>, there exists a corresponding type <span class="arithmatex">\(B_j\)</span> in the sum type <span class="arithmatex">\(\bigsqcup_j B_j\)</span>, and <span class="arithmatex">\(A_i\)</span> is a <strong>supertype</strong> of <span class="arithmatex">\(B_j\)</span>, then the sum of all <span class="arithmatex">\(A_i\)</span> is a <strong>supertype</strong> of the sum of all <span class="arithmatex">\(B_j\)</span>. This rule reflects the <strong>contravariant</strong> nature of certain contexts, such as function parameters, where subtypes behave in the opposite direction.</p>
<h2 id="intuition-behind-the-typing-rules">Intuition Behind the Typing Rules</h2>
<p>The subtyping rules for sum types are based on the notion of type containment and choice. A sum type <span class="arithmatex">\(A | B\)</span> is essentially saying that a value belongs to <strong>either</strong> <span class="arithmatex">\(A\)</span> or <span class="arithmatex">\(B\)</span>, but not both at the same time. Therefore:</p>
<ul>
<li><strong>Covariance</strong> (first rule) applies when the subtypes on the left-hand side can be safely used as substitutes for the types on the right-hand side. This occurs when the sum type's components are subtypes of the corresponding components in the supertype sum.</li>
<li><strong>Contravariance</strong> (second rule) works in the opposite direction, often in contexts where the sum type appears as a function argument. In such cases, the supertype on the left-hand side can safely be used where the subtype on the right-hand side is expected.</li>
</ul>
<h2 id="examples-of-sum-types">Examples of Sum Types</h2>
<h3 id="basic-sum-type">Basic Sum Type</h3>
<p>Consider a sum type representing a value that may either be an integer (<span class="arithmatex">\(\mathbb{Z}\)</span>) or a string:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>(ℤ | String)
</span></code></pre></div>
</div>

<p>The type <span class="arithmatex">\((ℤ \mid String)\)</span> specifies that a value can either be an integer or a string. Valid values for this type include:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>42 : (ℤ | String)
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>&quot;Hello&quot; : (ℤ | String)
</span></code></pre></div>
</div>

<h3 id="sum-type-with-subtyping">Sum Type with Subtyping</h3>
<p>Suppose <code>Dog</code> is a subtype of <code>Animal</code>. If we define a sum type:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>(Dog | String)
</span></code></pre></div>
</div>

<p>Using the covariant subtyping rule, we conclude:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>(Animal | String) &lt;: (Dog | String)
</span></code></pre></div>
</div>

<p>Since <code>Dog &lt;: Animal</code>, the sum type containing <code>Dog</code> is a subtype of one containing <code>Animal</code> in the corresponding position.</p>
<h3 id="covariance-in-function-return-types">Covariance in Function Return Types</h3>
<p>Sum types frequently appear as return types in functions. Consider a function that may return either a <code>Dog</code> instance or an error message (as a string):</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>def resultFunction(): (Dog | String) = { ... }
</span></code></pre></div>
</div>

<p>This function’s return type can also be expressed as <code>Animal | String</code> since <code>Dog &lt;: Animal</code>. Replacing the return type with <code>Animal | String</code> is valid:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>def resultFunction(): (Animal | String) = { ... }
</span></code></pre></div>
</div>

<p>Covariance permits the substitution of a subtype (<code>Dog</code>) for a supertype (<code>Animal</code>) in the return type.</p>
<h3 id="sum-types-in-pattern-matching">Sum Types in Pattern Matching</h3>
<p>Sum types are particularly advantageous in pattern matching. For example, consider a type representing a boolean, an integer, or a string:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>(Bool | ℤ | String)
</span></code></pre></div>
</div>

<p>In a function, we can match against this sum type:</p>
<div class="code-editor" id="code-sum-pattern-matching">

<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>def describeValue(value: (Bool | ℤ | String)): String = match value {
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    case true =&gt; &quot;It&#39;s true!&quot;
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    case false =&gt; &quot;It&#39;s false!&quot;
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    case n: ℤ =&gt; &quot;It&#39;s an integer: &quot; ++ n.toString ++ &quot;!&quot;
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    case s: String =&gt; &quot;It&#39;s &quot; ++ s ++ &quot;!!!!!&quot;
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>}
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>eval describeValue 2024     // Output: &quot;It&#39;s an integer: 2024!&quot;
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>eval describeValue true     // Output: &quot;It&#39;s true!&quot;
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>eval describeValue &quot;mygo&quot;   // Output: &quot;It&#39;s mygo!!!!!&quot;
</span></code></pre></div>
</div>
<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-sum-pattern-matching', 'output-sum-pattern-matching')">Run Code</button>
</div>
<div class="result-editor" id="output-sum-pattern-matching"></div>

<p>Here, the type <span class="arithmatex">\((Bool \mid ℤ \mid String)\)</span> allows the function to process each type individually, and we can handle each case appropriately with pattern matching.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "navigation.expand"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/editor.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>