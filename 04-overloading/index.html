
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../03-proofs/">
      
      
        <link rel="next" href="../05-subtyping/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Ad-Hoc Polymorphism (Overloading) - Saki-Lang</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ad-hoc-polymorphism-overloading" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Saki-Lang" class="md-header__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Saki-Lang
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ad-Hoc Polymorphism (Overloading)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Saki-Lang" class="md-nav__button md-logo" aria-label="Saki-Lang" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3zm-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1"/></svg>

    </a>
    Saki-Lang
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keywords and Identifiers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-mltt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Martin-Löf Type Theory
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-proofs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Construct Formal Proofs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Ad-Hoc Polymorphism (Overloading)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Ad-Hoc Polymorphism (Overloading)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Superposition Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Superposition Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-rules-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules for Superposition Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules for Superposition Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#term-typing-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Term Typing for Superposition Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-overloading-with-superposition" class="md-nav__link">
    <span class="md-ellipsis">
      Function Overloading with Superposition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-application-for-overloaded-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Function Application for Overloaded Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping for Superposition Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-application-with-overloading" class="md-nav__link">
    <span class="md-ellipsis">
      Function Application with Overloading
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-overloading-with-identical-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Function Overloading with Identical Return Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Overloading with Identical Return Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overloaded-function-with-different-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Overloaded Function with Different Return Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#currying-with-overloaded-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Currying with Overloaded Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Why Superposition Types?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-subtyping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtyping and Algebraic Subtyping
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Definition
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Definition
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Definition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Definition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Definition/01-decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decorator
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Terms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/01-lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function (Lambda)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/02-dependent-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dependent Pi (Function) Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/04-expr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expressions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/05-sum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sum Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/06-pair/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Type (Pair) and Dependent Sigma Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/07-record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/08-adt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algebraic Datatype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/09-inductive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inductive Type with Indices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terms/10-constraint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constraint Universe
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Superposition Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Superposition Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-rules-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Rules for Superposition Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typing Rules for Superposition Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#term-typing-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Term Typing for Superposition Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-overloading-with-superposition" class="md-nav__link">
    <span class="md-ellipsis">
      Function Overloading with Superposition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-application-for-overloaded-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Function Application for Overloaded Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping-for-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Subtyping for Superposition Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-application-with-overloading" class="md-nav__link">
    <span class="md-ellipsis">
      Function Application with Overloading
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-overloading-with-identical-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Function Overloading with Identical Return Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Overloading with Identical Return Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overloaded-function-with-different-return-types" class="md-nav__link">
    <span class="md-ellipsis">
      Overloaded Function with Different Return Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#currying-with-overloaded-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Currying with Overloaded Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-superposition-types" class="md-nav__link">
    <span class="md-ellipsis">
      Why Superposition Types?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="ad-hoc-polymorphism-overloading">Ad-Hoc Polymorphism (Overloading)</h1>
<script type="module" src="/javascripts/editor.js"></script>
<p><link rel="stylesheet" href="/static/styles.css"></p>
<p>In <strong>Saki</strong>, function overloading is introduced by leveraging a new type construct called the <strong>superposition type</strong> (<span class="arithmatex">\(A \oplus B\)</span>), which allows a single function to operate over multiple input types, providing different behaviors based on the types of arguments passed to the function. This generalizes traditional function overloading, often found in programming languages, into the type-theoretic framework of <strong>Martin-Löf Type Theory (MLTT)</strong>. The superposition type formalizes this behavior, ensuring that function overloading is type-safe and rigorous, enabling polymorphism at the type level.</p>
<h2 id="superposition-types">Superposition Types</h2>
<p>The <strong>superposition type</strong> <span class="arithmatex">\(A \oplus B\)</span> encapsulates the ability of a function to accept multiple types as input and return different types depending on the context of the application. Unlike a <strong>sum type</strong> (<span class="arithmatex">\(A \sqcup B\)</span>), which restricts a term to belong to either <span class="arithmatex">\(A\)</span> or <span class="arithmatex">\(B\)</span>, the superposition type dynamically resolves the term’s type based on the argument passed, making it applicable multiple times for different types.</p>
<p>For example, if a function can handle both integer and string types, its type would be expressed as <span class="arithmatex">\(Int \oplus String\)</span>, meaning that the function can accept either type, and the appropriate behavior will be applied based on the argument.</p>
<h3 id="typing-rules-for-superposition-types">Typing Rules for Superposition Types</h3>
<p>The rules for superposition types enable the safe typing and application of overloaded functions in the type system. These rules are as follows:</p>
<h4 id="term-typing-for-superposition-types">Term Typing for Superposition Types</h4>
<div class="arithmatex">\[
\frac{\Gamma \vdash t: A \quad \Delta \vdash t: B}{\Gamma, \Delta \vdash t: A \oplus B}
\]</div>
<p>If a term <span class="arithmatex">\(t\)</span> can be typed as both <span class="arithmatex">\(A\)</span> in context <span class="arithmatex">\(\Gamma\)</span> and <span class="arithmatex">\(B\)</span> in context <span class="arithmatex">\(\Delta\)</span>, then <span class="arithmatex">\(t\)</span> can be assigned the superposition type <span class="arithmatex">\(A \oplus B\)</span> in the combined context <span class="arithmatex">\(\Gamma, \Delta\)</span>. This allows the function to behave polymorphically, with its type determined by the argument.</p>
<h4 id="function-overloading-with-superposition">Function Overloading with Superposition</h4>
<div class="arithmatex">\[
\frac{\Gamma \vdash t: A \rightarrow B \quad \Delta \vdash t: A \rightarrow C}{\Gamma, \Delta \vdash t: A \rightarrow (B \oplus C)}
\]</div>
<p>This rule allows a function to have multiple return types based on the context of its application. The function <code>t</code> can return either <code>B</code> in context <span class="arithmatex">\(\Gamma\)</span> or <span class="arithmatex">\(C\)</span> in context <span class="arithmatex">\(\Delta\)</span>, and the final type is resolved as <span class="arithmatex">\(B \oplus C\)</span> depending on the argument.</p>
<h4 id="function-application-for-overloaded-functions">Function Application for Overloaded Functions</h4>
<div class="arithmatex">\[
\frac{\Gamma \vdash f: (A \rightarrow B) \oplus (C \rightarrow D) \quad \Gamma \vdash t: A}{\Gamma \vdash f\ t: B}
\]</div>
<p>This rule governs the application of overloaded functions. If a function <code>f</code> has a superposition type <span class="arithmatex">\((A \rightarrow B) \oplus (C \rightarrow D)\)</span>, applying it to an argument of type <code>A</code> resolves the function to return type <code>B</code>.</p>
<h4 id="subtyping-for-superposition-types">Subtyping for Superposition Types</h4>
<div class="arithmatex">\[
(A \sqcap B) \leq (A \oplus B)
\]</div>
<p>The superposition type <span class="arithmatex">\(A \oplus B\)</span> is a subtype of the intersection type <span class="arithmatex">\(A \sqcap B\)</span>.
This rule comes from the property of an intersection type:</p>
<div class="arithmatex">\[
(A_1 \to B_1) \sqcap (A_2 \to B_2) \equiv (A_1 \sqcup A_2) \to (B_1 \sqcap B_2)
\]</div>
<p>A superposition type <span class="arithmatex">\((A_1 \to B_1) \sqcap (A_2 \to B_2)\)</span> yields <span class="arithmatex">\(B_1\)</span> when applied to <span class="arithmatex">\(A_1\)</span> and <span class="arithmatex">\(B_2\)</span> when applied to <span class="arithmatex">\(A_2\)</span>. The input type satisfies <span class="arithmatex">\(A_1 \geq A_1 \sqcup A_2\)</span> and <span class="arithmatex">\(A_2 \geq A_1 \sqcup A_2\)</span>, and the output type satisfies <span class="arithmatex">\(B_1 \leq B_1 \sqcap B_2\)</span> and <span class="arithmatex">\(B_2 \leq B_1 \sqcap B_2\)</span>.
And because the covariance of the input type and the contravariance of the output type:</p>
<div class="arithmatex">\[
\begin{align}
\begin{array}{c}
\Gamma \vdash A_1 \geq B_1 \quad A_2 \leq B_2
\\\hline
\Gamma \vdash A_1 \rightarrow A_2 \leq B_1 \rightarrow B_2
\end{array}
\end{align}
\]</div>
<p>Thus, the superposition type is considered as a subtype of the intersection type.</p>
<h2 id="function-application-with-overloading">Function Application with Overloading</h2>
<p>When functions are <strong>overloaded</strong> via <strong>superposition types</strong>, the function's behavior is dependent on the type of the argument. The superposition type allows a function to operate on multiple types and dynamically resolve which version of the function to apply based on the argument’s type.</p>
<p>The typing rule for overloaded functions is:</p>
<div class="arithmatex">\[
\frac{\Gamma \vdash f: (A \rightarrow B) \oplus (C \rightarrow D) \quad \Gamma \vdash t: A}{\Gamma \vdash f\ t: B}
\]</div>
<p>This rule means that if:
- <code>f</code> is an overloaded function with the type <code>(A → B) ⊕ (C → D)</code> in the context <span class="arithmatex">\(\Gamma\)</span>,
- and <code>t</code> is an argument of type <code>A</code>,</p>
<p>then applying <code>f</code> to <code>t</code> will resolve the function to return a result of type <code>B</code>.</p>
<h2 id="function-overloading-with-identical-return-types">Function Overloading with Identical Return Types</h2>
<p>Consider the following overloaded function <code>describe</code>, which can take either an integer or a string:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>def describe(x: Int): String = &quot;The number is &quot; + x.toString
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>def describe(x: String): String = &quot;The string is \&quot;&quot; + x + &quot;\&quot;&quot;
</span></code></pre></div>
</div>

<p>The function <code>describe</code> has the following type:</p>
<div class="arithmatex">\[
\text{describe}: (Int \to String) \oplus (String \to String)
\]</div>
<p>Which is identical to</p>
<div class="arithmatex">\[
\text{describe}: (Int \oplus String) \to String
\]</div>
<p>When applying <code>describe</code>, the behavior depends on the argument type:</p>
<div class="code-editor" id="code-overloading">

<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>def describe(x: Int): String = &quot;The number is &quot; ++ x.toString
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>def describe(x: String): String = &quot;The string is \&quot;&quot; ++ x ++ &quot;\&quot;&quot;
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>eval describe 114514     // Result: &quot;The number is 114514&quot;
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>eval describe &quot;Saki&quot;     // Result: &quot;The string is &quot;Saki&quot;&quot;
</span></code></pre></div>
</div>
<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-overloading', 'output-overloading')">Run Code</button>
</div>
<div class="output-container" id="output-overloading"></div>

<p>In this case:</p>
<ul>
<li>When applied to an integer (<code>42</code>), the function returns a description of the number.</li>
<li>When applied to a string (<code>"Saki"</code>), the function returns a description of the string.</li>
</ul>
<h3 id="overloaded-function-with-different-return-types">Overloaded Function with Different Return Types</h3>
<p>Consider an overloaded function <code>concat</code> that operates on both numbers and strings, returning different types based on the argument type:</p>
<div class="code-editor" id="code-overloading-diff-return">

<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>def ceilDec(x: Int): Int = if x == 0 then 1 else 10 * ceilDec(x / 10)
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>def concat(a: Int, b: Int): Int = a * ceilDec(b) + b
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>def concat(x: String, y: String): String = x ++ y
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>eval concat
</span></code></pre></div>
</div>
<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-overloading-diff-return', 'output-overloading-diff-return')">Run Code</button>
</div>
<div class="output-container" id="output-overloading-diff-return"></div>

<p>The type of this function is:</p>
<div class="arithmatex">\[
\text{concat}: (Int \to Int \to Int) ⊕ (String \to String \to String)
\]</div>
<p>Application:</p>
<div class="code-editor" id="code-overloading-diff-return-invoke">

<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>def ceilDec(x: Int): Int = if x == 0 then 1 else 10 * ceilDec(x / 10)
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>def concat(a: Int, b: Int): Int = a * ceilDec(b) + b
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>def concat(x: String, y: String): String = x ++ y
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>eval concat(123, 456)               // Result: 123456
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>eval concat(&quot;It&#39;s &quot;, &quot;mygo!!!!!&quot;)   // Result: &quot;It&#39;s mygo!!!!!&quot;
</span></code></pre></div>
</div>
<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-overloading-diff-return-invoke', 'output-overloading-diff-return-invoke')">Run Code</button>
</div>
<div class="output-container" id="output-overloading-diff-return-invoke"></div>

<p>Here, the overloaded function <code>concat</code>:</p>
<ul>
<li>Concatenates numbers when passed two integers using mathematical operations.</li>
<li>Concatenates strings when passed two strings using built-in string concatenation.</li>
</ul>
<h3 id="currying-with-overloaded-functions">Currying with Overloaded Functions</h3>
<p>Due to the nature of superposition types, overloaded functions are curried as well like regular functions. 
This allows for partial application and dynamic resolution of the function's behavior based on the arguments provided.</p>
<p>Consider the following example:</p>
<div class="code-editor" id="code-overloading-curry">

<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>def ceilDec(x: Int): Int = if x == 0 then 1 else 10 * ceilDec(x / 10)
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>def concat(a: Int, b: Int): Int = a * ceilDec(b) + b
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>def concat(x: String, y: String): String = x ++ y
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>eval concat 123
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>eval concat &quot;Hello! &quot;
</span></code></pre></div>
</div>
<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-overloading-curry', 'output-overloading-curry')">Run Code</button>
</div>
<div class="output-container" id="output-overloading-curry"></div>

<p>Here, <code>concat</code> can be partially applied to an integer or string, with its final behavior determined by the type of the subsequent argument. Specifically, applying an overloaded lambda to an argument invokes a selection process based on the argument’s type, identifying the corresponding function branch. This type-based selection mechanism is termed "<strong>measurement</strong>" of an overloaded lambda, analogous to quantum state measurement, where an indeterminate superposed state collapses into a definite outcome upon observation.</p>
<h3 id="why-superposition-types">Why Superposition Types?</h3>
<p>Superposition types in <strong>Saki</strong> elegantly combine <strong>function overloading</strong> (ad-hoc polymorphism) with <strong>currying</strong>, overcoming challenges that typically arise when attempting to integrate these concepts in functional programming languages.</p>
<p>In many functional programming languages, <strong>currying</strong> and <strong>function overloading</strong> can clash. Currying, which allows functions to be partially applied, introduces ambiguity when combined with overloading. For instance, in a curried function, the compiler may struggle to determine which version of an overloaded function to apply based on partial arguments, leading to errors.</p>
<p>A typical example of this issue occurs in <strong>Scala</strong>, where the following code results in an <strong>ambiguous overload</strong> error:</p>
<div class="code-editor">

<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>def appendToString(s: String)(x: Int): String = s + x
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>def appendToString(s: String)(x: String): String = s + x
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>def test = appendToString(&quot;foo&quot;)
</span></code></pre></div>
</div>

<p>In this case, the compiler cannot decide whether to apply <code>appendToString("foo")(Int)</code> or <code>appendToString("foo")(String)</code>, because both are valid overloads. The argument <code>"foo"</code> is a <code>String</code>, but it could be followed by either an <code>Int</code> or a <code>String</code>, causing ambiguity.
However, <strong>Saki</strong> addresses this problem through <strong>superposition types</strong>. A superposition type, such as <code>A ⊕ B</code>, enables a function to handle multiple types dynamically and resolve overloading in a way that is both type-safe and flexible.
When <strong>superposition types</strong> are used in conjunction with <strong>currying</strong>, the function can accept and handle different argument types across different stages of application without ambiguity. In Saki, the curried function <code>appendToString</code> would look like this:</p>
<div class="code-editor" id="code-overloading-ambiguous">

<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>def appendToString(s: String, x: Int): String = s ++ x.toString
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>def appendToString(s: String, x: String): String = s ++ x
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>eval appendToString &quot;foo&quot;
</span></code></pre></div>
</div>

<div class="button-container">
    <button class="md-button button-run" onclick="runCodeInEditor('code-overloading-ambiguous', 'output-overloading-ambiguous')">Run Code</button>
</div>
<div class="output-container" id="output-overloading-ambiguous"></div>

<p>Here, the superposition type ensures that the function can adapt its behavior based on the next argument type—whether it’s an <code>Int</code> or a <code>String</code>. The type of the partial application <code>appendToString("foo")</code> would be:</p>
<div class="arithmatex">\[
(Int \to String) \oplus (String \to String)
\]</div>
<p>This means that <strong>Saki</strong>’s type system can resolve the correct overload dynamically based on the second argument’s type, thus avoiding the ambiguity.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "navigation.expand"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="../javascripts/editor.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>